<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Survey Page</title>  

  <!-- Latest compiled and minified CSS & JS -->
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

  <div class="container">

    <div class="jumbotron">
      <h1 class="text-center">
        <span class="fa fa-fire"></span> Survey Questions</h1>
      <hr>
      <h2 class="text-center">About You</h2>
      <br>
      <div class="text-center">
        <a href="/api/friends">
          <button class="btn btn-lg btn-primary">
            <span class="fa fa-list-alt"></span> View Friends</button>
        </a>
        <a href="/">
          <button class="btn btn-lg btn-default">
            <span class="fa fa-home"></span>
          </button>
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <!-- Reservation Page -->
        <div class="card">
          <div class="card-header">
            About you
          </div>
          <div class="card-body">
            <form role="form">
              <div class="form-group">
                <label for="reserve-name">Name(Required)</label>
                <input type="text" class="form-control" id="reserve-name">
              </div>
              <div class="form-group">
                <label for="reserve-photo">Link to photo</label>
                <input type="text" class="form-control" id="reserve-photo">
              </div>
              <div class="form-group">
                <h3>Question 1</h3>
                <label for="q1">Your mind is always buzzing with ideas</label>
                <div class="form-group">
                  
                    <select class="form-control" id="exampleFormControlSelect1">
                        <option>Select an option</option>
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                      
                    </select>
                  </div>
      
              </div>
              <div class="form-group">
                  <h3>Question 2</h3>
                  <label for="q2">Generally speaking, you rely more on your experience than your imagination.</label>
                  <div class="form-group">
                      
                      <select class="form-control" id="exampleFormControlSelect2">
                          <option>Select an option</option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                      </select>
                    </div>
                </div>
              <div class="form-group">
                    <h3>Question 3</h3>
                    <label for="q3">You find it easy to stay relaxed and focused even when there is some pressure.</label>
                    <div class="form-group">
                    
                        <select class="form-control" id="exampleFormControlSelect3">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div>
              <div class="form-group">
                    <h3>Question 4</h3>
                    <label for="q4">You rarely do something just out of sheer curiosity.</label>
                    <div class="form-group">
                        
                        <select class="form-control" id="exampleFormControlSelect4">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div>
                 <div class="form-group">
                    <h3>Question 5</h3>
                    <label for="q5">People can rarely upset you.</label>
                    <div class="form-group">
                        
                        <select class="form-control" id="exampleFormControlSelect5">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div>  
                 <div class="form-group">
                    <h3>Question 6</h3>
                    <label for="q6">It is often difficult for you to relate to other people’s feelings.</label>
                    <div class="form-group">
                       
                        <select class="form-control" id="exampleFormControlSelect6">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div>    
                 <div class="form-group">
                    <h3>Question 7</h3>
                    <label for="q7">In a discussion, truth should be more important than people’s sensitivities.</label>
                    <div class="form-group">
                      
                        <select class="form-control" id="exampleFormControlSelect7">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div>  
                 <div class="form-group">
                    <h3>Question 8</h3>
                    <label for="q8">You rarely get carried away by fantasies and ideas.</label>
                    <div class="form-group">
                        
                        <select class="form-control" id="exampleFormControlSelect8">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div>   
                 <div class="form-group">
                    <h3>Question 9</h3>
                    <label for="q9">You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</label>
                    <div class="form-group">
                       
                        <select class="form-control" id="exampleFormControlSelect9">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div> 
                 <div class="form-group">
                    <h3>Question 10</h3>
                    <label for="q10">You feel more energetic after spending time with a group of people.</label>
                    <div class="form-group">
                        
                        <select class="form-control" id="exampleFormControlSelect10">
                            <option>Select an option</option>
                          <option>1</option>
                          <option>2</option>
                          <option>3</option>
                          <option>4</option>
                          <option>5</option>
                        </select>
                      </div>
                 </div>                                                               
           
              <button type="submit" class="btn btn-primary submit btn-info btn-lg" data-toggle="modal" data-target="#myModal">Submit</button>
              <div id="myModal" class="modal fade" role="dialog">
                  <div class="modal-dialog">
                
                    <!-- Modal content-->
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </br>
                    </br>
                  </br>
                        <h4 class="modal-title">
                      
                      </br>Congratulations we found your friend</h4>
                      </div>
                      <div class="modal-body">
                      
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                      </div>
                    </div>
                
                  </div>
                </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    

 
  


    <footer class="footer">
      <div class="container">
        <p>
         <a href="/api/friends">API Friends List</a> | <a href="#">Git Hub Repo</a>
      </div>
    </footer>

  </div>

</body>

</html>

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">
  // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
  // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
  // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
  // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file
 

  $(".submit").on("click", function(event) {
    event.preventDefault();

    // Here we grab the form elements
    var newFriend= {
      customerName: $("#reserve-name").val().trim(),
      photolink: $("#reserve-photo").val().trim(),
      score: [$("#exampleFormControlSelect1").val().trim(),
      $("#exampleFormControlSelect2").val().trim(),
      $("#exampleFormControlSelect3").val().trim(),
     $("#exampleFormControlSelect4").val().trim(),
      $("#exampleFormControlSelect5").val().trim(),
      $("#exampleFormControlSelect6").val().trim(),
       $("#exampleFormControlSelect7").val().trim(),
      $("#exampleFormControlSelect8").val().trim(),
     $("#exampleFormControlSelect9").val().trim(),
      $("#exampleFormControlSelect10").val().trim()]
     
    };

    console.log(newFriend);

    // This line is the magic. It"s very similar to the standard ajax function we used.
    // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
    // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
    // depending on if a tables is available or not.

    $.post("/api/friends", newFriend,
      function(data) {

        // If a table is available... tell user they are booked.
        if (data) {
        
          // alert("Yay! You found a friend \n user: "+data.user+"photo link:" +data.photo);
          var modalbody=$(".modal-body");
          modalbody.append("<h3 class='fill-modalbody'>Friend Name :"+data.user+"</h3>")
          modalbody.append("<img src='"+ data.photo+"' class='fill-modalbody' alt='#' height='250' width='250'>")
                        
        }

        // If a table is available... tell user they on the waiting list.
       

        // Clear the form when submitting
        $("#reserve-name").val("");
        $("#reserve-photo").val("");
      $("#exampleFormControlSelect1").val("Select an option");
     $("#exampleFormControlSelect2").val("Select an option");
   $("#exampleFormControlSelect3").val("Select an option");
     $("#exampleFormControlSelect4").val("Select an option");
       $("#exampleFormControlSelect5").val("Select an option");
      $("#exampleFormControlSelect6").val("Select an option");
       $("#exampleFormControlSelect7").val("Select an option");
       $("#exampleFormControlSelect8").val("Select an option");
     $("#exampleFormControlSelect9").val("Select an option");
     $("#exampleFormControlSelect10").val("Select an option");
     $(".modal-body").val();
      });

  });

</script>
